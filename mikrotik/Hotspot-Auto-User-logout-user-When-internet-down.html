<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'/>
<meta content='width=device-width, initial-scale=1, maximum-scale=1' name='viewport'/>
<title>Hotspot Auto User logout user When internet Down - Mikrotik Script</title>
<meta content='Hotspot Auto User logout user When internet Down - Mikrotik Script' name='description'/>
<meta content='mikrotik script, routeros script, script database, script, mikrotik, routeros, router, hotspot, rtrwnet' name='keywords'/>
<meta content='index, follow, noodp' name='robots'/>
<link rel="stylesheet" href="//buananetpbun.github.io/mikrotik/stytes.css">
<link rel="stylesheet" href="//buananetpbun.github.io/mikrotik/highlightjs/styles/github.css">
<script src="//buananetpbun.github.io/mikrotik/highlightjs/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>  
</head>  
<body>
<pre>
<h1>Hotspot Auto User logout user When internet Down - Mikrotik Script</h1>
Hotspot Auto User logout user When internet Down

This script is useful for automatic user logout and cookies when the internet is down or totally dead

1. Open Winbox, Click Tools> Netwatch
2. Click the "+" sign to add a new item
3. Host: enter the ip address which is rarely down for example Google DNS 8.8.8.8
4. Click the Down tab
5. then enter in On Down: with the script below

<precd><code class="routeros"># SCRIPT REMOVE USER ACTIVE
:local activelist [/ip hotspot active find]
:foreach i in=$activelist do={
    /ip hotspot active remove $i
}

# SCRIPT REMOVE COOKIE ACTIVE
:local activelist [/ip hotspot cookie find]
:foreach i in=$activelist do={
    /ip hotspot cookie remove $i
}</code></precd>
</pre>
<br>
<img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fbuananetpbun.github.io%2F&count_bg=%23C83D3D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false" alt="Hits"/>
<br><br>
<script type="text/javascript">if (window.top.location.host != "https://buananetpbun.github.io/mikrotik/") {window.location.href='https://buananetpbun.github.io/mikrotik/?url=' + window.location;}</script>
</body>
</html>
